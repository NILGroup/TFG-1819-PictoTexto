% !TeX encoding = ISO-8859-1

\chapter{Evaluación}
\label{cap:evaluacion}

Cuando se finalizó tanto la implementación de los servicios como de la aplicación web se realizó una evaluación de las traducciones realizadas por nuestra aplicación.  
En este capítulo explicaremos el diseño de la evaluación en la Sección \ref{cap5:sec:Diseño de la Evaluación}, y un análisis de los resultados obtenidos de esta evaluación, (Sección \ref{cap5:sec:Análisis de los resultados}).

\section{Diseño de la Evaluación}
%-------------------------------------------------------------
\label{cap5:sec:Diseño de la Evaluación}
Para comenzar, es importante recordar que el público objetivo de nuestro traductor son aquellas personas que necesitan el apoyo de los pictogramas para comunicarse. Los pictogrmas permiten desde un nivel de comunicación muy básico (frases con pocos elementos, sin artículos, sin adverbios, sin complementos...) hasta un nivel de comunicación muy rico y avanzado (complementos, artículos, adverbios, preposiciones...) pero nunca tan completo y flexible como el que se puede lograr a través del lenguaje natural. En este trabajo hemos restringido el ámbito a traducir de frases con pictogramas que van desde las frases más sencillas hasta frases algo más complejas con algún artículo, preposición, complementos... Por este motivo como corpus para la evaluación hemos utilizado corpus formados pos frases, descartando cuentos, corpus con oraciones compuestas, etc.\\
Decidimos buscar los corpus que ellos ofrecían en su propia página web y así evitar lo máximo posible un problema de correlación entre los pictogramas del corpus y los que utiliza nuestra aplicación. Por eso los corpus de la evaluación debían de ser los pictogramas de Arasaac ya que son los que funcionan con nuestra aplicación.\\
La evaluación se hizo de manera manual, introduciendo todos los ejemplos en nuestra aplicación y analizando caso por caso el resultado obtenido. Finalmente seleccionamos 3 corpus con 177 frases en total.

\begin{enumerate}
	\item \textbf{Corpus de frases con fotos y pictogramas}.\\ 
Fuente: \url{http://www.arasaac.org/materiales.php?id_material=474}.\\
Frases con pictogramas sencillas y sin nexos de unión, solamente las palabras principales de la oración. En total este corpus lo componen 34 frases. En la Figura \ref{fig:cEjemFotos} se pueden ver 3 frases de ejemplo del corpus.

\figura{Bitmap/Evaluacion/cEjemFotos}{width=10cm}{fig:cEjemFotos}{Ejemplo del corpus fotos y pictogramas.}

\item \textbf{Corpus de frases verdad o mentira}.\\ 
Fuente: \url{http://www.arasaac.org/materiales.php?id_material=691}.\\
Este corpus está compuesto por frases sencillas junto a otras con un nivel más complejo, entre los que destacan frases con nexo de unión o frases con más de un sustantivo en el predicado. En total este corpus está formado por un total de 115 frases. En el ejemplo de la Figura \ref{fig:cEjemMentiras} podemos ver algunos de estos ejemplos. 
\clearpage

\figura{Bitmap/Evaluacion/cEjemMentiras}{width=10cm}{fig:cEjemMentiras}{Ejemplo del corpus verdad o mentira.}

\item \textbf{Corpus de oraciones coordinadas}.\\ 
Fuente: \url{http://www.arasaac.org/materiales.php?id_material=1978}.\\
En este tercer corpus hemos analizado cada frase obviando que están unidas por una conjunción ``y'', analizando cada una por separado. En total este corpus está formado por un total de 28 frases. En la Figura \ref{fig:cEjemCoor} podemos ver algunos de los ejemplos en este corpus. 

\figura{Bitmap/Evaluacion/cEjemCoor}{width=10cm}{fig:cEjemCoor}{Ejemplo del corpus oraciones coordinadas.}
\end{enumerate}

\section{Resultados de la Evaluación}
%-------------------------------------------------------------
\label{cap5:sec:Resultados de la Evaluación}
En la Tabla \ref{tabla:resultados} se muestran los resultados sacados de la evaluación de los tres corpus, obteniendo la cantidad de frases correctas, el número total de frases procesadas y el porcentaje que corresponde al número total de frases correctas. 

\begin{table}[htbp]
\begin{center}
\begin{tabular}{|l|c|c|c|}
\hline
CORPUS & NºFRASES & FRASES CORRECTAS & \% ACIERTO \\
\hline \hline
Frases con fotos y pictos & 34 & 14 & 41\% \\ \hline
Frases verdad o mentira & 115 & 23 & 20\% \\ \hline
Oraciones coordinadas & 28 & 11 & 40\% \\ \hline
Total & 177 & 48 & 27\% \\ \hline 
\end{tabular}
\caption{Tabla con los resultados de la evaluación.}
\label{tabla:resultados}
\end{center}
\end{table}

\section{Análisis de los Resultados}
%-------------------------------------------------------------
\label{cap5:sec:Análisis de los Resultados}
Como podemos observar en la tabla de resultados, los 2 corpus que están formados por más frases sencillas (corpus de fotos y pictogramas y corpus de oraciones coordinadas), el resultado obtenido se aproxima al 50\% de aciertos, mientras que el otro corpus al estar compuesto por frases con un nivel mayor de complejidad su porcentaje de acierto es más bajo que el de los anteriores.\\
Tras un análisis exhaustivo de las frases traducidas incorrectamente hemos detectado que los errores principales se deben a las siguientes causas: 

\begin{itemize}
    \item \textbf{Fallo traducción del pictograma}. Este tipo de error se ha producido al intentar traducir , esto es a causa de tener que reproducir exactamente igual la secuencia de pictogramas, por ejemplo en frases como:
    \begin{itemize}
     \item ``el tren va \textbf{por la vía} ''.
     \item ``el papá barre el suelo \textbf{con la escoba}''.
     \item ``los niños pintan un dibujo \textbf{en la clase}''.
     \end{itemize} 
Al tener que traducir las palabras resaltadas en un solo pictograma, como observamos en la Figura \ref{fig:ejemploUnPicto}, nuestro buscador no encontraba dicho pictograma. 
\figura{Bitmap/Evaluacion/ejemploUnPicto}{width=8cm}{fig:ejemploUnPicto}{Ejemplo de frase con traducción de picto errónea.}  
    \item \textbf{Frases reflexivas}. Nuestra aplicación no contempla la traducción de frases reflexivas como ``El niño le da un regalo a su padre '', ``la niña se lava las manos'' o ``la niña se pone zapatos en los pies''. Por tanto, las frases con pictogramas que se deberían traducir usando una frase reflexiva no han obtenido un resultado correcto. 
       
Pero si se podrían llevar a cabo en una siguiente fase, para ello se tendría que conseguir la forma reflexiva de cada sustantivo o pronombre y traducirla junto con la palabra a la que hiciera referencia.
	\item \textbf{Más de un verbo en la oración}. Al igual que pasaba con las frases reflexivas, en esta primera etapa de desarrollo de la aplicación no se contempló el análisis y traducción de dos verbos en la misma oración, así que frases como ``Yo quiero ver la televisión'', ``Yo quiero ir al baño'' o ``Yo quiero jugar al ordenador'', no podrán ser traducidas de forma correcta en la aplicación.\\
	
Para llevarla a cabo habría que estudiar si los dos verbos se encuentran en un posición consecutiva en la frase, de ser así, se estudiaría en que forma verbal vendría el primero de ellos para así saber en que forma verbal traducir el segundo. Si por el contrario,  vienen por separado habría que observar cual es el verbo principal de la frase  con el fin de encontrar el sujeto, verbo y predicado, y después realizar la traducción pertinente.
	\item \textbf{Más de un sustantivo en el sujeto}. Igual que en el caso anterior cuando una frase contenía varios sustantivos en el sujeto como ``El libro y el estuche están dentro de la mochila'' o ``La fresa y la pera son fruta'' la traducción fallaba.\\
	 
Este error se podría solventar con la implementación de este problema en el código. Para ello se tendrían que clasificar a ambos sustantivos como parte principal del sujeto para que ninguno pudiera borrar la información del otro al ser los dos sustantivos y una vez hecho esto asignarles sus determinantes adecuados. Algunos ejemplos en los cuerpos de evaluación realizados son:
    \item \textbf{Errores del analizador del lenguaje}. Spacy no tiene una precisión del 100\% tal y como se comentó en el capitulo \ref{cap3:sec:Spacy}, así pues la categoría léxica o los atributos devueltos por Spacy para una palabra puede que no sean correctos, por este motivo la traducción de nuestra aplicación falla en ejemplos como ``La niña \textbf{sopla} las velas''. Ya que para spacy esta palabra es un adjetivo y no un verbo, ``El profesor lee un \textbf{cuento} a los niños''. El analizador devuelve esta palabra como verbo en vez de un sustantivo o ``Mamá cose un \textbf{vestido} azul'' el tipo de palabra es un adjetivo en lugar de un nombre.\\
    
Una solución que podría resolver el problema, sería estudiar si en el futuro existe algún analizador más idóneo para el castellano. Entre las palabras que no traduce correctamente destacan:

    \item \textbf{Correlación de determinantes y sustantivos}. Para la traducción de nuestras frases se decidió que la aplicación añadiría automáticamente a un sustantivo en el sujeto el determinante (el, la, los, las) concordando en género y número con el sustantivo, mientras que si el sustantivo aparecía en el sujeto se le añadiría el determinante (un, una, unos, unas), a no ser que se pusiera un determinante concreto.\\
Por tanto en frases que se tiene que añadir el determinante al sustantivo que acompaña como ``Mamá conduce el coche'', ``El niño bebe agua'' o ``La niña come pollo''. Su traducción no es correcta al fallar la traducción en algún determinante que acompaña al sustantivo.\\ 
    
Una posible solución sería añadir siempre el determinante que se desea, u otra opción sería estudiar si se puede obtener si dicho sustantivo es contable o incontable, acompañando a los contables con los determinantes un,una..., y a los incontables con el, la...\\
Algunos ejemplos encontrados en los corpus con esta problemática son:
  
    \item \textbf{Correlación entre preposición y determinante}. Según la lógica pensada para la aplicación, las preposiciones hay que ponerlas explicitamente para que se traduzcan, si después de la preposición queremos traducir un determinante acompañando a un sustantivo, dicho determinante también tiene que ser puesto explicitamente en la traducción.
Además para SimpleNLG el determinante es la palabra que va en primer lugar en la frase, por lo que traduce en primero el determinante y después la preposición intercambiando el orden lógico de las palabras en lenguaje natural.\\
Así que en frases como ``El niño juega con el oso'', `Los niños juegan con la pelota'' o ``El bebé juega con los cubos''.\\
La traducción produce un fallo ya que el orden de traducción de la frase varía traduciendo el determinante antes de la preposición.

Para solucionar este problema se podría implementar que si hay una preposición en la frase, traducir toda la frase como un complemento y que así mantenga el orden de la traducción.  
\end{itemize}

Una vez analizados los datos obtenidos de la evaluación y encontrados algunos de los fallos y su posible solución en un futuro. Y sin olvidar que no se ha encontrado una aplicación que haga algo parecido para lo que se pensó esta aplicación, realizar una traducción de pictograma a lenguaje natural.Nos encontramos ante unos resultados bastante alentadores que demuestran que se ha creado una aplicación con una buena base sólida para seguir desarrollándola con el fin de completarla y mejorarla. 



