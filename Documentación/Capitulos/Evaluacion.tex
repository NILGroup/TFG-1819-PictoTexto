% !TeX encoding = ISO-8859-1

\chapter{Evaluación}
\label{cap:evaluacion}

Cuando se finalizó tanto la implementación de los servicios como de la aplicación web se realizó una evaluación de las traducciones realizadas por nuestra aplicación.  
En este capítulo explicaremos el diseño de la evaluación en la Sección \ref{cap5:sec:Diseño de la Evaluación}, los resultados obtenidos en dicha evaluación (Sección \ref{cap5:sec:Resultados de la Evaluación}),  y un análisis de estos resultados obtenidos, (Sección \ref{cap5:sec:Análisis de los Resultados}).

\section{Diseño de la Evaluación}
%-------------------------------------------------------------
\label{cap5:sec:Diseño de la Evaluación}
Para comenzar, es importante recordar que el público objetivo de nuestro traductor son aquellas personas que necesitan el apoyo de los pictogramas para comunicarse. Los pictogrmas permiten desde un nivel de comunicación muy básico (frases con pocos elementos, sin artículos, sin adverbios, sin complementos...) hasta un nivel de comunicación muy rico y avanzado (complementos, artículos, adverbios, preposiciones...) pero nunca tan completo y flexible como el que se puede lograr a través del lenguaje natural. En este trabajo hemos restringido el ámbito de traducción de las frases con pictogramas que van desde las frases más sencillas hasta frases algo más complejas con algún artículo, preposición, complementos... Por este motivo como corpus para la evaluación hemos utilizado corpus formados pos frases, descartando cuentos, corpus con oraciones compuestas, etc.\\
Decidimos buscar los corpus que ellos ofrecían en su propia página web y así evitar lo máximo posible un problema de correlación entre los pictogramas del corpus y los que utiliza nuestra aplicación. Por eso los corpus de la evaluación debían de ser los pictogramas de Arasaac ya que son los que funcionan con nuestra aplicación.\\
La evaluación se hizo de manera manual, introduciendo todos los ejemplos en nuestra aplicación y analizando caso por caso el resultado obtenido. Finalmente seleccionamos 3 corpus con 177 frases en total.

\begin{enumerate}
	\item \textbf{Corpus de frases con fotos y pictogramas}.\\ 
Fuente: \url{http://www.arasaac.org/materiales.php?id_material=474}.\\
Frases con pictogramas sencillas y sin nexos de unión, solamente las palabras principales de la oración. En total este corpus lo componen 34 frases. En la Figura \ref{fig:cEjemFotos} se pueden ver 3 frases de ejemplo del corpus.

\figura{Bitmap/Evaluacion/cEjemFotos}{width=10cm}{fig:cEjemFotos}{Ejemplo del corpus fotos y pictogramas.}

\item \textbf{Corpus de frases verdad o mentira}.\\ 
Fuente: \url{http://www.arasaac.org/materiales.php?id_material=691}.\\
Este corpus está compuesto por frases sencillas junto a otras con un nivel más complejo, entre los que destacan frases con nexo de unión o frases con más de un sustantivo en el predicado. En total este corpus está formado por un total de 115 frases. En el ejemplo de la Figura \ref{fig:cEjemMentiras} podemos ver algunos de estos ejemplos. 
\clearpage

\figura{Bitmap/Evaluacion/cEjemMentiras}{width=10cm}{fig:cEjemMentiras}{Ejemplo del corpus verdad o mentira.}

\item \textbf{Corpus de oraciones coordinadas}.\\ 
Fuente: \url{http://www.arasaac.org/materiales.php?id_material=1978}.\\
En este tercer corpus hemos analizado cada frase obviando que están unidas por una conjunción ``y'', analizando cada una por separado. En total este corpus está formado por un total de 28 frases. En la Figura \ref{fig:cEjemCoor} podemos ver algunos de los ejemplos en este corpus. 

\figura{Bitmap/Evaluacion/cEjemCoor}{width=10cm}{fig:cEjemCoor}{Ejemplo del corpus oraciones coordinadas.}
\end{enumerate}

\section{Resultados de la Evaluación}
%-------------------------------------------------------------
\label{cap5:sec:Resultados de la Evaluación}
En la Tabla \ref{tabla:resultados} se muestran los resultados sacados de la evaluación de los tres corpus, obteniendo la cantidad de frases correctas, el número total de frases procesadas y el porcentaje que corresponde al número total de frases correctas. 

\begin{table}[htbp]
\begin{center}
\begin{tabular}{|l|c|c|c|}
\hline
CORPUS & NºFRASES & FRASES CORRECTAS & \% ACIERTO \\
\hline \hline
Frases con fotos y pictos & 34 & 14 & 41\% \\ \hline
Frases verdad o mentira & 115 & 23 & 20\% \\ \hline
Oraciones coordinadas & 28 & 11 & 40\% \\ \hline
Total & 177 & 48 & 27\% \\ \hline 
\end{tabular}
\caption{Tabla con los resultados de la evaluación.}
\label{tabla:resultados}
\end{center}
\end{table}

\section{Análisis de los Resultados}
%-------------------------------------------------------------
\label{cap5:sec:Análisis de los Resultados}
Como podemos observar en la tabla de resultados, los 2 corpus que están formados por más frases sencillas (corpus de fotos y pictogramas y corpus de oraciones coordinadas), el resultado obtenido se aproxima al 50\% de aciertos, mientras que el otro corpus al estar compuesto por frases con un nivel mayor de complejidad su porcentaje de acierto es más bajo que el de los anteriores.\\
Tras un análisis exhaustivo en los resultados de las frases traducidas incorrectamente, como podemos ver en la Tabla \ref{tabla:errores}.

\begin{table}[htbp]
\begin{center}
\begin{tabular}{|l|c|c|}
\hline
TIPOS DE FALLOS & NºFALLOS/TOTAL FALLOS & \% FALLO \\
\hline \hline
Fallo traducción pictograma & 49/132 & 37\% \\ \hline
Frases reflexivas & 18/132 & 13,5\% \\ \hline
Más de un verbo en la oración & 3/132 & 2,2\% \\ \hline
Más de un sustantivo en el sujeto & 2/132 & 1,5\% \\ \hline
Errores analizador del lenguaje & 14/132 & 10,6\% \\ \hline
Relación determinante y sustantivo & 26/132 & 19,6\% \\ \hline
Relación preposición y determinante & 20/132 & 15\% \\ \hline
Total de Fallos & 132/132 & 100\% \\ \hline 
\end{tabular}
\caption{Tabla con los tipos de fallos.}
\label{tabla:errores}
\end{center}
\end{table}

Es importante mencionar que en algunas frases se daban más de un tipo de fallo, por eso el número de errores es un poco mayor en esta Tabla \ref{tabla:errores}.
\clearpage

Hemos detectado que los errores principales se deben a las siguientes causas: 

\begin{itemize}
    \item \textbf{Fallo traducción del pictograma}. En la lógica pensada para nuestra aplicación los pictogramas de sustantivos que aparezcan en el predicado solo van acompañados automáticamente por los determinantes (un, una, unos, unas).\\
Por tanto en frases como: ``el tren va \textbf{por la vía} '', ``el papá barre el suelo \textbf{con la escoba}'' o ``los niños pintan un dibujo \textbf{en la clase}''. Donde las palabras resaltadas tienen que traducirse con un solo pictograma no están contempladas para su traducción.
  
    \item \textbf{Frases reflexivas}. Nuestra aplicación no contempla la traducción de frases reflexivas como: ``El niño le da un regalo a su padre '', ``la niña se lava las manos'' o ``la niña se pone zapatos en los pies''. Por tanto, las frases con pictogramas que se deberían traducir usando una frase reflexiva no han obtenido un resultado correcto. 

	\item \textbf{Más de un verbo en la oración}. Al igual que pasaba con las frases reflexivas, en esta primera etapa de desarrollo de la aplicación no se contempló el análisis y traducción de dos verbos en la misma oración, así que frases como: ``Yo quiero ver la televisión'', ``Yo quiero ir al baño'' o ``Yo quiero jugar al ordenador'', no podrán ser traducidas de forma correcta en la aplicación.
	
	\item \textbf{Más de un sustantivo en el sujeto}. Igual que en el caso anterior cuando una frase contenía varios sustantivos en el sujeto como ``El libro y el estuche están dentro de la mochila'' o ``La fresa y la pera son fruta'' la traducción fallaba.
	 
    \item \textbf{Errores del analizador del lenguaje}. Spacy no tiene una precisión del 100\% tal y como se comentó en el capitulo \ref{cap3:sec:Spacy}, así pues la categoría léxica o los atributos devueltos por Spacy para una palabra puede que no sean correctos, por este motivo la traducción de nuestra aplicación falla en ejemplos como: ``La niña \textbf{sopla} las velas''. Ya que para spacy esta palabra es un adjetivo y no un verbo, ``El profesor lee un \textbf{cuento} a los niños''. El analizador devuelve esta palabra como verbo en vez de un sustantivo o ``Mamá cose un \textbf{vestido} azul'' el tipo de palabra es un adjetivo en lugar de un nombre.

    \item \textbf{Relación entre determinantes y sustantivos}. Para la traducción de las frases se decidió que la aplicación añadiría automáticamente a un sustantivo en el sujeto, el determinante (el, la, los, las) concordando en género y número con el sustantivo, mientras que si el sustantivo aparecía en el predicado, se le añadiría el determinante (un, una, unos, unas), a no ser que se pusiera un pictograma con el determinante concreto.\\
Por tanto en frases donde se tienen que añadir el determinante al sustantivo que acompaña como por ejemplo: ``Mamá conduce el coche'', ``El niño bebe agua'' o ``La niña come pollo''. Su resultado no es correcto al fallar la traducción en algún determinante que acompaña al sustantivo.
  
    \item \textbf{Relación entre preposición y determinante}. Según la lógica pensada para la aplicación, las preposiciones hay que ponerlas explicitamente para que se traduzcan, si después de la preposición queremos traducir un determinante acompañando a un sustantivo, dicho determinante también tiene que ser puesto explicitamente en la traducción.
Además para SimpleNLG el determinante es la palabra que va en primer lugar en la frase, por lo que traduce en primero el determinante y después la preposición intercambiando el orden lógico de las palabras en lenguaje natural.\\
Así que en frases como: ``El niño juega con el oso'', ``Los niños juegan con la pelota'' o ``El bebé juega con los cubos''.\\
La traducción produce un fallo ya que el orden de traducción de la frase varía traduciendo el determinante antes de la preposición.
 
\end{itemize}

Con los datos obtenidos de la evaluación, analizados los fallos más comunes encontrados en nuestra aplicación y teniendo presente que no se ha encontrado otra aplicación que haga traducciones de pictogramas a lenguaje natural. Podemos concluir que los resultados obtenidos son bastante alentadores, ya que demuestran que se ha creado una aplicación con una buena base sólida para seguir desarrollándola con el fin de completarla y mejorarla en el futuro. 



