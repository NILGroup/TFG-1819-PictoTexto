% !TeX encoding = ISO-8859-1


\chapter{Herramientas}
\label{cap:Herramientas}

A lo largo de este capítulo analizaremos las diferentes herramientas utilizadas para el desarrollo de este TFG, para facilitar la comunicación entre los servicios webs utilizamos Django, al tener aplicaciones en lenguaje Java y otros en python se utilizará GSON para obtener un objeto en Java a partir de python.
Las herramientas que se usan para el tratamiento del lenguaje natural son por un lado un analizador del propio lenguaje en donde utilizaremos Spacy. Y por otro lado un generador también del lenguaje natural como es Simple-NLG.

Para configurar la parte relacionada con los servidores las herramientas que se han elegido para ellos son Apache tomcat y Angular.
Por último, para conseguir todo lo relacionado con los pictogramas se utiliza la API de Arasaac.   

%-------------------------------------------------------------
\section{Django}
%-------------------------------------------------------------
\label{cap3:sec:Django}

Django es un framework de desarrollo web\footnote{https://tutorial.djangogirls.org/es/django/} de código abierto escrito en Python, respetando el patrón de diseño conocido como Modelo-Vista-Controlador (M-V-C). La meta principal de este framework es facilitar la creación de sitios web. En Django es muy importante el re-uso de código, la conectividad y el desarrollo rápido.\\  
\begin{enumerate}
\item Django da soporte de base de datos permitiendo crear los modelos de datos necesarios y a través de su API administrar y gestionar dicha base de datos. Además concede al usuario la posibilidad de poder ejecutar sus propias consultas SQL.
\item En la parte de servicios web, Django incluye un servidor ligero que ofrece la posibilidad de realizar pruebas y trabajar en una etapa de desarrollo. Para una etapa más de producción se ha decidido contar con otra aplicación como es Apache.
\end{enumerate}

\section{GSON}
%-------------------------------------------------------------
\label{cap3:sec:GSON}
GSON es una librería open-source la cuál nos permite convertir nuestros objetos Java en JSON o viceversa, esta librería es muy importante ya que nos permite poder obtener un objeto GSON compatible con servicio web configurado en lenguaje Java. Nuestro servicio web obliga a recibir obligatoriamente un objeto en formato JSON.

Esta librería GSON contiene el método "from JSON", dicho método es vital para la obtención de un objeto compatible entre los servicios python y los de Java.

Una vez obtenido el objeto GSON mencionado, la propia librería se encarga de mandar el objeto al servicio web que lo necesita.

\section{Apache Tomcat}
%-------------------------------------------------------------
\label{cap3:sec:Apache Tomcat} 
Para poder levantar el servidor se ha decidido utilizar la versión 9.0.14 de Apache Tomcat, el cuál eso un entorno cuya principal misión es la de distribuir aplicaciones servlets\footnote{\url{https://www.oracle.com/technetwork/java/javaee/servlet/index.html}}. Los servlets son módulos escritos en Java utilizados sobretodo para ampliar las capacidades propias del servidor.

El servidor se encarga de analizar las palabras que le llegan y conectar con la API de Arasaac con el fin de obtener la relación entre cada palabra y sus pictogramas correspondientes.

\section{SpaCy}
%-------------------------------------------------------------
\label{cap3:sec:SpaCy}
SpaCy es una biblioteca de procesamiento escrita en Python diseñada para el procedimiento avanzado de lenguaje natural\footnote{\url{https://medium.com/datos-y-ciencia/comenzando-con-spacy-para-procesamiento-de-lenguaje-natural-e8cf24a18a5a}}.
Además al ser la librería relativamente más moderna destaca para el programador por su facilidad de uso y su velocidad a la hora de realizar el procesamiento del lenguaje.

Para nuestro proyecto la función principal que realizará spaCy será la de analizador de las palabras que conforman la oración a traducir, spaCy será el encargado de proporcionarnos la información de las características  o atributos de las palabras analizadas, estos atributos pueden ser llamados también "tokens". 
Una vez obtenidos los tokens se crea un objeto con todas las características sintácticas de cada palabra, además de proporcionar su género y su número.

Por último, si la palabra analizada es un verbo, también se obtiene el tiempo verbal de dicho verbo, es decir, si dicho verbo está en pasado, presente, futuro, etc. 
Toda esta información se mandará como entrada a la siguiente fase de nuestro TFG, la de generador del lenguaje.

\section{SimpleNLG-ES}
%-------------------------------------------------------------
\label{cap3:sec:SimpleNLG}

La herramienta SimpleNLG-ES es una biblioteca Java que permite generar una secuencia de pictogramas a partir de una oración o viceversa\citep{Trzpis2015}.\\
SimpleNLG-ES permite crear palabras con distintas características mediante la función CreateWord, la cual se encuentra integrada dentro del módulo factoria NLG, dicha factoria permite crear diferentes tipos de frases. 
En función de la complejidad de las oraciones que se pretenden crear se utilizarán diferentes procedimientos, si queremos generar frases nominales utilizamos el procedimiento NounPhrases.
Además con la función CreateWord mencionada anteriormente, podemos hacer que cada palabra contenga una categorización léxica, es decir simpleNLG tiene la capacidad de clasificar las palabras introducidas en diferentes categorías. Por ejemplo:
\begin{enumerate} 
\item Con la característica léxica "NOUN". Introduciendo la palabra "perro" en la oración, la herramienta lo clasifica como nombre.
\item Sin embargo, sino se desea especificar su función léxica la herramienta permite crearlas con la variable "ANY". 
\end{enumerate} 

Otra funcionalidad que nos proporciona simpleNLG es la de conseguir información más detallada de cada palabra, mediante el uso de la clase "Features". Esta opción nos permite analizar la raíz sintáctica de la palabra  y obtener el género y número las mismas.
Por ejemplo, de la palabra "Corredora", simpleNLG coge su raíz (corredor) y con la terminación "a" especifica el género: femenino y el número: singular de la palabra.
Una vez especificado el género y número de los sustantivos de las oraciones y concretados tanto el genero como el número de la palabra, la herramienta es capaz de añadirle el determinante automáticamente que le corresponda a dicho sustantivo sustantivo.  

Con la sentencia SPhraseSpec, nos permite diferenciar automáticamente las partes sintácticas de la oración. Así , en la frase "mi perro come pan" la clasificación resultante sería.
Para comprobar si clasifica correctamente la oración del ejemplo, podemos usar: 
\begin{enumerate}  
\item  Devolverá \textbf{''mi perro''} como el sujeto de la oración.
\item  \textbf{''come''} será el verbo de la  misma.
\item  Y \textbf{''pan''} como el complemento.
\end{enumerate}

En cuanto a las palabras que sean verbos, simpleNLG es capaz de especificar tanto la forma como el tiempo verbal, para todo esto utilizamos como antes la clase "features".
Una de estas características es la de obtener el tiempo del verbo, es decir, podemos establecer si su tiempo esta en \underline {pasado}, \underline {presente} o \underline {futuro}, entre otros.
Otra de las características que permite la herramienta es la de añadirle al verbo su forma negativa, para poder formar así oración negativas.

Por último es importante destacar la función "realiser", la cuál es la encargada de juntar las diferentes partes sintácticas en un objeto que devolverá la oración generada. 


\section{API-Arasaac}
%-------------------------------------------------------------
\label{cap3:sec:API-Arasaac}

Para conseguir la traducción de cada pictograma a texto hemos utilizado la API de Arasaac \footnote{https://beta.arasaac.org/developers/api}, centrándonos en la sección de pictogramas, como vemos en la Figura \ref{fig:principal}.
\figura{Bitmap/Herramientas/PrincipalAPI}{width=300px}{fig:principal}{Pagina web de la API de Arasaac}.
En el trabajo se han utilizado dos de los métodos "GET" proporcionados en la API, por un lado obtenemos el cuerpo del pictograma introduciendo su identificador para encontrarlo(/pictograms/{locale}/{idPictogram}). 
Por ejemplo introduciendo el id 2517 obtenemos la estructura con toda la información correspondiente al pictograma de la palabra "perro", tal y como se muestra en la Figura \ref{fig:APIperro}
\figura{Bitmap/Herramientas/APIperro}{width=300px}{fig:APIperro}{Código obtenido del pictograma con la palabra "perro"}.

El otro método "GET" que se ha utilizado para nuestro proyecto es para poder buscar el texto para relacionarlo con el pictograma que deseamos (/pictograms/{locale}/search/{searchText}). 
Este método nos devuelve un objeto con todo lo relacionado con el texto buscado, siguiendo el ejemplo anterior con la palabra "perro", obtenemos el objeto que se muestra en la Figura \ref{fig:perroProyecto}\figura{Bitmap/Herramientas/APIperroProyecto}{width=300px}{fig:perroProyecto}{Información del objeto con la palabra "perro"}.  
  
\section{Angular}
%-------------------------------------------------------------
\label{cap3:sec:Angular}
Angular es un framework de desarrollo creado y mantenido por Google, cuya finalidad consiste en el desarrollo de aplicaciones web SPA (Single-Page Applications), es decir, interacción web con una sola página web. Esta herramienta nos aporta tanto una mayor flexibilidad, como una mayor operabilidad en la parte del cliente, haciendo que dicha parte sea más rápida, dinámica y fluida.

Esta aportación es muy importante para nuestra aplicación ya que en la parte backend del servidor la herramienta Django explicada en el apartado anterior es la encargada de realizar todo el proceso, sin embargo para la parte frontend observamos que no disponíamos de ninguna herramienta que se encargara de ella, la cuál nos proporcionaría como he mencionado anteriormente una mayor fluidez y rapidez al servidor. Es ahí donde entra Angular siendo el encargado de la parte frontend haciendo cada parte de la página web independiente una de la otra.
  
Para realizar esta función de la parte frontend del servidor se estudiaron las diferentes herramientas que se podrían utilizar, en un primer momento se pensó en extender la herramienta Django para la parte del cliente, pero dicha herramienta ofrecía ciertas limitaciones en esta parte del servidor, por tanto se deshizo esa idea.
La segunda alternativa fue la opción de introducir JQuery, esta segunda opción era mejor que la primera aunque sin llegar a convencernos del todo.
La última opción y al final la escogida fue la de implantar dentro de nuestro trabajo Angular, ya que era la alternativa que más funcionalidades aportaba y la más completa.

Además la herramienta está formado por diferentes módulos distintos unos de otros y estos a su vez están formados por diferentes componentes, ofreciendo una división automática de códigos para que los usuarios solo carguen aquellos que necesitan.
Otra característica importante de Angular es que se desarrolla en el lenguaje TypeScript que es un lenguaje fuertemente tipado lo que ofrece beneficios sobre JavaScript, en el momento de la construcción del proyecto, el codigo TypeScript se convierte a JavaScript para poder utilizarlo en el navegador.

 


