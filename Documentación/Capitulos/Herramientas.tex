% !TeX encoding = ISO-8859-1


\chapter{Herramientas}
\label{cap:Herramientas}

\begin{resumen}
	A lo largo de este capítulo analizaremos las diferentes herramientas utilizadas para el desarrollo de este TFG.
\end{resumen}

%-------------------------------------------------------------
\section{SimpleNLG}
%-------------------------------------------------------------
\label{cap3:sec:SimpleNLG}

La herramienta SimpleNLG es una biblioteca Java que proporciona el control directo sobre la en como se construyen y se forman las frases, define un conjunto léxico cubriendo la mayoría de las categorías gramaticales y sus formas de combinarlas \citep{JozefTrzpis2015}.\\

Para la construcción de una estructura sintáctica se ha de tener en cuenta los siguientes aspectos:
\begin{itemize}
  \item Inicializar los componentes necesarios y sus elementos léxicos adecuados.
  \item Utilizar las propiedades de la API.
  \item Combinar los componentes con las propiedades de la API para fabricar estructuras sintácticas más complejas.
  \item  Pasa la estructura realizada aplicando las inflexiones necesarias, y los ordena, función de las características, para después devolverlo como un texto ya formado.
\end{itemize}

Una característica muy importante es la robustez de la herramienta, formas sintácticas no completas o mal formadas no darán fallo, aunque el resultado que obtenga no será muy correcto.\\
Otra propiedad fue conseguir una separación entre la forma de constituir operaciones morfológicas y las operaciones sintácticas. La biblioteca léxica integrada ofrece un generador con amplia cobertura morfológica y diferente a los componentes sintácticos. Esto lo hace muy eficaz para operaciones que no requieran de una gran dificultad sintáctica.

\subsection{Objetivos de la comunicación SimpleNLG}
La herramienta NLG tiene como fin producir texto un comprensible para el usuario. La mayoría de estos sistemas siguen un proceso para la formación de frases similar compuesto por tres componentes conectadas entre sí. Estas tres fases son (Figura \ref{fig:picto}):
\figura{Bitmap/Herramientas/NLG}{width=300px}{fig:picto}{Sistema GLN definido por Raiter y Dale.} 

\textbf {Planificador del documento}
\begin{itemize}
  \item \underline {Determinación del contenido}: Elige que tipo de información saldrá como resultado, dependiendo del tipo de de público objetivo, la información que se le propondrá como entrada y de otras restricciones posibles.
  \item \underline {Estructura del documento}: Toma la decisión de como deben agruparse los trozos que se han introducido en la entrada, y el orden en el que saldrán.
\end{itemize}
\textbf {Microplanificación}
\begin{itemize} 
  \item \underline {Lexicalización}: Deciden las palabras específicas para expresar el contenido. En este apartado se encargan de elegir los nombres, verbos, adjetivos... que aparecerán en el texto.
  \item \underline { Expresiones de referencia}: Decide las expresiones que se deben utilizar para hacer referencia a determinadas palabras, es decir, existen algunas expresiones que pueden ser denominadas de diferentes maneras, por ejemplo:
  \begin{itemize}
    \item 11/2018
    \item Noviembre
    \item Noviembre del año 2018.
  \end{itemize} 
  \item \underline {Agregación}: Decide cómo las estructuras obtenidas del planificador del documento deben ser clasificadas dentro de un párrafo u oración.
\end{itemize}
\textbf {Realización}
\begin{itemize}
  \item \underline {lingüística}: Utiliza las reglas gramaticales para convertir las representaciones abstractas en un texto real.
  \item \underline {estructural}: Convierte frases y párrafos en elementos marcados cuando se mostrará el texto. 
\end{itemize}

\subsection{Generación de textos SimpleNLG}
Como hemos mencionado anteriormente SimpleNLG es una librería de java por tanto es un fichero ".jar" que tiene que ser importado dentro del proyecto donde se va a utilizar.\\
Una vez importando dentro del proyecto se puede empezar a escribir código de la aplicación utilizando la API que proporciona SimpleNLG. Ofrece diferentes opciones de crear frases desde las más simples hasta las más elaboradas.  

\subsection{Generación de frases sencillas} 
La forma más sencilla en la que la herramienta SimpleNLG es una cadena de salida igual que la cadena que le entra de entrada. Por ejemplo \footnote{https://github.com/citiususc/SimpleNLG-ES/wiki/SecciC3B3n-III-E28093-Primeros-pasos}:
El código SimpleNLG para conseguirlo será el siguiente:
\begin{itemize}
  \item NLGElement s1 = nlgFactory.createSentence(''mi perro es feliz'');
\end{itemize}
Ahora necesitamos usar el Realiser para generar la salida de la cadena:
\begin{itemize}
  \item String output = realiser.realiseSentence(s1);
  \item System.out.println(output);
\end{itemize}
El resultado es:
\begin{itemize}
  \item mi perro es feliz
\end{itemize} 

\subsection{Generación de frases complejas}
En el apartado anterior hemos visto la manera de fabricar frases sencillas en la que es necesaria una mayor carga de trabajo por parte del usuario. Pero se puede conseguir que sea la propia librería quien se ocupe de ello. SimpleNLG es una herramienta muy flexible, y por esta razón existen diferentes maneras para generar la misma frase.
Además, también es capaz de entender lo que es una frase utilizando la clase llamada SPhraseSpec. Ésta es accesible a través de NLGFactory, utilizando el método createClause.\\ Los conceptos de 'frase verbal', 'frase nominal', 'frase preposicional', 'frase adjetiva' y 'frase adverbial' también se pueden acceder a través de NLGFactory, usando createVerbPhrase, createNounPhrase, createPrepositionPhrase , etc \footnote{https://github.com/citiususc/SimpleNLG-ES/wiki/SecciC3B3n-III-E28093-Primeros-pasos}.\\
Para construir las oraciones utilizando SimpleNLG, se podrían seguir estos pasos:
\begin{itemize}
  \item Crear una instancia de NLGFactory.
  \item Crear la oración utilizando el método createClause de NLGFactory.
  \item Crear un verbo, sujeto y complemento directo usando los métodos createVerbPhrase y createNounPhrase de NLGFactory.
  \item Si se necesita, se pueden crear frases preposicionales, frases adjetivas y adverbios utilizando los métodos createPrepositionPhrase, createAdjectivePhrase y createAdverbPhrase de NLGFactory. 
  \item Indicar el papel que las partes del discurso desempeñarán en la frase. Por ejemplo, especificar que una frase sustantiva es el sujeto de la oración y otra frase nominal es el complemento directo, utilizando setSubject y setObject.
  \item Crear un objeto SimpleNLG llamado Realizador.
  \item Pedir al Realizador que transforme la instancia de SPhraseSpec en una cadena sintácticamente correcta.
\end{itemize}
Una vez seguidos todos estos pasos, se obtiene como resultado una cadena de texto compuesta por una frase u oración, además de poder ser tratada como cualquier otra cadena de texto de Java.
Cabe mencionar que a no ser de que se quieran construir frases más elaboradas, no es necesario detallar que un sustantivo es un NPPhraseSpec o que un verbo es una VPPhraseSpe.
En la siquiente tabla se muestra las partes principales con las que simpleNGL puede generar diferentes tipos de frases sintácticas (Figura \ref{fig:picto}).
\figura{Bitmap/Herramientas/desgloseNLG}{width=300px}{fig:picto}{Tabla ejemplo composición frase.}\\

A continuación utilizaremos la frase del ejemplo anterior ''mi perro es feliz'' para observar como se combina las diferentes partes de la oración. Como se ha indicado, se hace uso de la construcción SPhraseSpec que permite definir una frase, ya que SimpleNLG reunirá las partes en una estructura gramatical adecuada. 
Por lo tanto, una frase se podría construir de la siguiente manera:
\begin{itemize}
  \item SPhraseSpec p = nlgFactory.createClause();
  \item p.setSubject (''mi perro'');
  \item p.setVerb (''es'');
  \item p.setObject (''feliz'');
\end{itemize}
  
Este conjunto de llamadas a simpleNLG define los componentes de la frase: un sujeto, un verbo, y un objeto de la oración. Por último,se llama al ''realizador'', que se encargará de juntar estos diferentes componentes y devolverá un texto sintáctica y morfológicamente correcto:
\begin{itemize}
  \item Cadena salida = realiser.realiseSentence (p);
  \item System.out.println (salida); 
\end{itemize}
Por tanto, la salida resultante será:
\begin{itemize}
  \item mi perro es feliz.    
\end{itemize}


%-------------------------------------------------------------
\section{Django}
%-------------------------------------------------------------
\label{cap3:sec:Django}

\subsection{¿Qué es Django?}
Es un framework de desarrollo web \footnote{conjunto de componentes que ayudan a desarrollar sitios web más rápido y cómodo} de código abierto escrito en python en su totalidad, además respetando el patrón de diseño conocido como modelo-vista-controlador. La meta principal de esta aplicación es facilitar la creación de sitios web, para Django es muy importante el re-uso de código, la conectividad y el desarrollo rápido.\newline  
Django da soporte de base de datos permitiendo crear los modelos de datos necesarios y a través de su API administrar y gestionar dicha base de datos. Además concede al usuario la posibilidad de poder ejecutar sus propias consultas SQL.\newline
En la parte de servicios Web, Django incluye un servidor ligero que ofrece la posibilidad de realizar pruebas y trabajar en una etapa de desarrollo. Para una etapa más de producción sería más conveniente contar con otra aplicación como puede ser Apache.

\subsection{¿Por qué elegimos Django?}
Debido a las características enumeradas en el apartado anterior y al elegir python como nuestro lenguaje de programación toda la implementación del trabajo se realizará con Django.  \newline
El framework ofrece un servidor web en el que se podrá crear y gestionar una base de datos. En dicha base de datos estarán contenidas las imágenes de cada pictograma y su correspondiente expresión, es decir permitirá asociar cada palabra con el pictograma que represente su mismo significado.\newline
Para llevar a cabo todas las consultas necesarias de la base de datos se implementarán los tres métodos de servicio web de tipo Restful: GET, POST, DELETE. El método GET será el más utilizado ya que con él se podrá obtener la mayor información sobre las imágenes y las palabras, dependiendo de la información que se requiera obtener se llamarán a los diferentes métodos.\newline
Todos estos resultados serán volcados en el servicio web creado a partir de Django, donde mediante un pictograma se conseguirá obtener su significado sintáctico. 

  


